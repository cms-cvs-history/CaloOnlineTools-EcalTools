process ECALMIPHISTS = { 

	include 'FWCore/MessageService/data/MessageLogger.cfi'
	replace MessageLogger.cerr.FwkSummary.reportEvery = 100 

	include 'EventFilter/EcalRawToDigiDev/data/EcalUnpackerMapping.cfi'
	include 'EventFilter/EcalRawToDigiDev/data/EcalUnpackerData.cfi'

	include 'Geometry/CaloEventSetup/data/CaloTopology.cfi'
	include 'Geometry/EcalCommonData/data/EcalOnly.cfi'
	include 'Geometry/CaloEventSetup/data/CaloGeometry.cff'

	include 'EventFilter/EcalRawToDigiDev/data/EcalUnpackerData.cfi'

	untracked PSet maxEvents = {untracked int32 input =10}
	source = PoolSource { 
		untracked vstring fileNames = {

			'rfio:/castor/cern.ch/user/c/ccecal/PED/42534/ecal_local.00042534.0001.A.storageManager.0.0000.dat.root',
			'rfio:/castor/cern.ch/user/c/ccecal/PED/42534/ecal_local.00042534.0001.A.storageManager.0.0001.dat.root'

		} 
	} 
	include 'CaloOnlineTools/EcalTools/data/ecalChannelCheckerTreeHists.cfi'

		module ecalUncalibHit = ecalMaxSampleUncalibRecHit from 'RecoLocalCalo/EcalRecProducers/data/ecalMaxSampleUncalibRecHit.cfi'
		replace ecalUncalibHit.EBdigiCollection = ecalEBunpacker:ebDigis
		replace ecalUncalibHit.EEdigiCollection = ecalEBunpacker:eeDigis

	service = TFileService {
			string fileName = 'histo42534.root'
	} 

	path p = {ecalEBunpacker, ecalUncalibHit, ecalChannelCheckerTreeHists}
} 
